# slurm.conf file generated by configurator easy.html.
# Put this file on all nodes of your cluster.
# See the slurm.conf man page for more information.

ControlMachine=controller
AuthType=auth/munge

# State save location. This directory must be on a shared file system
# accessible to all nodes in your cluster.
StateSaveLocation=/var/spool/slurmctld
SlurmctldPidFile=/var/run/slurm-llnl/slurmctld.pid
SlurmctldPort=6817
SlurmdPort=6818

ProctrackType=proctrack/pgid
CacheGroups=0

# Suspend/resume program
# These scripts are provided by SLURM. You might want to write your
# own scripts and reference them here. See man slurm.conf
SuspendProgram=/usr/sbin/slurm_suspend
ResumeProgram=/usr/sbin/slurm_resume
SuspendTime=300

SchedulerType=sched/backfill
SelectType=select/linear
MpiDefault=none
SlurmctldTimeout=300
SlurmdTimeout=300
InactiveLimit=0
MinJobAge=300
KillWait=30
Waittime=0

# SchedulerParameters is relevant in case you choose a different
# scheduler type.
SchedulerParameters=null

# Maximum number of simultaneous running jobs per user
MaxJobCount=5000

# Log file for Slurm controller. This file must be on a shared file system
# accessible to all nodes.
SlurmctldLogFile=/var/log/slurm-llnl/slurmctld.log
SlurmdLogFile=/var/log/slurm-llnl/slurmd.log

JobCompType=jobcomp/none
JobAcctGatherFrequency=30
JobAcctGatherType=jobacct_gather/linux
SlurmctldDebug=3
SlurmdDebug=3

# Define the nodes in the cluster
NodeName=controller CPUs=4 State=UNKNOWN
NodeName=worker1 CPUs=4 State=UNKNOWN

# Define the partitions (queues)
PartitionName=local Nodes=worker1 Default=YES MaxTime=INFINITE State=UP

# Set the default account for jobs submitted from the reservoir container
DefaultAccount=slurm

# Set other job-related parameters as per your requirements
MaxCPUsPerNode=4
DefaultTime=1-00:00:00
